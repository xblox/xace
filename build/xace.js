//>>built
require({cache:{"xace/main":function(){define(["dojo/_base/kernel","xace/views/ACEEditor","xace/views/Editor"],function(){return dojo.xace})},"xace/views/ACEEditor":function(){define("dcl/dcl dojo/has dojo/dom-construct xide/utils xide/types xide/widgets/TemplatedWidgetBase xace/views/_Split xaction/DefaultActions xace/views/_AceMultiDocs".split(" "),function(l,p,k,h,r,m,t,n,d){var g={};m=l([m],{resizeToParent:!0,templateString:'\x3cdiv attachTo\x3d"aceNode" style\x3d"width: 100%;height: 100%" class\x3d""\x3e\x3c/div\x3e'});
d=l(d,{declaredClass:"xace/views/EditorInterface",editorSession:null,_lastValue:null,enableMultiDocuments:function(){this.addFileCompleter().addDocument("asdf.js","var xxxTop \x3d 2*3;")},loadScript:function(a,b,c){b=document.createElement("script");b.type="application/javascript";b.src=a;b.onload=function(){c&&c()};document.body.appendChild(b)},setMode:function(a,b,c){if((b=b||this.ctx||window.sctx)&&b.getResourceManager()){var q=this;if(g[a])q.set("mode",a),c&&c(a);else{var d=null;(d=b.getResourceManager().getVariable(r.RESOURCE_VARIABLES.ACE))?
d=d+"/mode-"+a+".js":(b=b.getResourceManager().getVariable(r.RESOURCE_VARIABLES.APP_URL),p("debug"),d=b+"/xfile/ext/ace//mode-"+a+".js");this.loadScript(d,null,function(){g[a]=!0;q.set("mode",a);c&&c(a)})}}else console.error("have no resource manager!")},get:function(a){if("value"===a){var b=this.getEditor();return(b=b?b.session:null)?b.getValue():null}return this.inherited(arguments)},set:function(a,b){var c=this,q=this.getEditor(),d=this.editorSession;if("iconClass"===a){var e=this._parent;e&&e.icon&&
this._parent.icon(b)}if(q&&d)if(e=q.container,"item"==a&&(d.setUseWorker(!1),c.getContent(b,function(a){var q=c._getMode(b.path);c.set("value",a);c.setMode(q);d.setUseWorker(c.options.useWorker)})),"value"==a&&b)d.setValue(b);else if("theme"==a)"string"==typeof b&&(b="ace/theme/"+b),q.setTheme(b),this.split&&this.split.setTheme(b);else if("mode"==a)try{ace.require(["ace/mode/"+b],function(a){a&&a.Mode&&c.split.$editors.forEach(function(b){b.session.setMode(new a.Mode)})})}catch(g){console.error("ace mode failed : "+
b)}else"readOnly"==a?q.setReadOnly(b):"tabSize"==a?d.setTabSize(b):"softTabs"==a?d.setUseSoftTabs(b):"wordWrap"==a?d.setUseWrapMode(b):"printMargin"==a?q.renderer.setPrintMarginColumn(b):"showPrintMargin"==a?q.setShowPrintMargin(b):"highlightActiveLine"==a?q.setHighlightActiveLine(b):"fontSize"==a?$(e).css(a,b):"showIntentGuides"==a?q.setDisplayIndentGuides(b):"elasticTabstops"==a?q.setOption("useElasticTabstops",b):"useIncrementalSearch"==a?q.setOption("useIncrementalSearch",b):"showGutter"==a&&
q.renderer.setShowGutter(b);return this.inherited("set",arguments)},_getMode:function(a){a=a||this.fileName;var b="javascript";if(a){b=h.getFileExtension(a)||"js";if("js"===b||"xblox"===b)b="javascript";if("h"===b||"cpp"===b)b="c_cpp";if("html"===b||"cfhtml"===b||"dhtml"===b)b="html";"cp"===b&&(b="xml");"md"===b&&(b="markdown");"hbs"===b&&(b="handlebars")}return b},setOptions:function(a){this.options=a;_.each(a,function(a,b){this.set(b,a)},this);var b=this.getEditor();b&&a.aceOptions&&(b.setOptions(a.aceOptions),
b.session.setUseWorker(a.useWorker),b.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.setMode(a.mode));return this.options},getOptions:function(){return this.options},onContentChange:function(a){},onDidChange:function(){var a=this.get("value");this._lastValue!==a&&(this._lastValue=a,this._emit("change",a),this.onContentChange(a))},getDefaultOptions:function(a,b){var c=this;return h.mixin({region:"center",style:"margin: 0; padding: 0; position:relative;overflow: auto;height:inherit;width:inherit;text-align:left;",
readOnly:!1,tabSize:2,wordWrap:!1,showPrintMargin:!1,highlightActiveLine:!0,fontSize:16,showGutter:!0,showLineNumbers:!0,useWorker:!0,showInvisibles:!1,displayIndentGuides:!0,useSoftTabs:!0,fileName:"none",mode:"javascript",value:a||this.value||"No value",theme:"idle_fingers",splits:1,useElasticTabstops:!1,animatedScroll:!1,highlightActive:!0,aceOptions:{enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onLoad:function(a){a.$blockScrolling=Infinity},onDidChange:function(){var a=
c.get("value");if(a!==c.lastSavedContent)c.onContentChange(a)},onPrefsChanged:function(){c.setPreferences&&c.setPreferences()}},b)},getEditor:function(a){if(this.split)return null==a?this.split.getCurrentEditor():this.split.getEditor(null!=a?a:0);if(this.editor)return this.editor},resize:function(a,b,c){a=this.options||{};this.onResize&&this.onResize();return this.debounce("resize",function(){var a=this.getEditor(),b=this.split||this.editor;if(a&&this.aceNode&&a.container)return a&&h.resizeTo(a.container,
this.aceNode,!0,!0),b?b.resize():null;this.resize_debounced.cancel();this.resize_debounced=null}.bind(this),a.resizeDelay||300,null)},getAce:function(){return this.getEditor()},addBasicCommands:function(a){a=a||this.getEditor();var b=this,c=ace.require("ace/ext/whitespace");this._whiteSpaceExt=c;a.commands.addCommands(c.commands);a.commands.addCommands([{name:"gotoline",bindKey:{win:"Ctrl-L",mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var c=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(c,
1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"snippet",bindKey:{win:"Alt-C",mac:"Command-Alt-C"},exec:function(a,b){if("object"==typeof b)a.cmdLine.setValue("snippet ",1),a.cmdLine.focus();else{var c=snippetManager.getSnippetByName(b,a);c&&snippetManager.insertSnippet(a,c.content)}},readOnly:!0},{name:"increaseFontSize",bindKey:"Ctrl-+",exec:function(a){a.setFontSize(a.getFontSize()+1);b.onAfterAction()}},{name:"decreaseFontSize",bindKey:"Ctrl+-",exec:function(a){a.setFontSize(a.getFontSize()-
1);b.onAfterAction()}},{name:"resetFontSize",bindKey:"Ctrl+0",exec:function(a){a.setFontSize(12);b.onAfterAction()}}])},onEditorCreated:function(a,b){var c=this;a.getSelectedText=function(){return c.editorSession.getTextRange(this.getSelectionRange())};a.on("change",function(){c.onDidChange(arguments)});this.addBasicCommands(a);a.setFontSize(b.fontSize);a.$blockScrolling=Infinity;this._whiteSpaceExt&&this._whiteSpaceExt.detectIndentation(a.session)},destroy:function(){var a=this.getEditor();a&&a.destroy();
(a=this.resize_debounced)&&a.cancel()},getOptionsMixed:function(a){var b=this.getPreferences?this.getPreferences():{},c=this.getDefaultOptions(this.value,a||this.options);h.mixin(c,a);h.mixin(c,b);c.mode=this._getMode(c.fileName);return c},createEditor:function(a,b){this.set("iconClass",this.iconClassNormal);if(this.editor||this.split)return this.editor||this.split;var c=this.getPreferences?this.getPreferences():{},q=this.getDefaultOptions(b);h.mixin(q,a);h.mixin(q,c);q.mode=this._getMode(q.fileName);
c=q.targetNode||k.create("div");$(c).css({padding:"0",margin:"0",height:"100%",width:"100%"});this.aceNode.appendChild(c);var d=ace.require("ace/config"),e=null,g=null;ace.require("ace/ext/language_tools");try{this.split=e=new (t.getSplitter())(c,null,1),this._aceConfig=d,d.init(),ace.require("ace/ext/language_tools"),this.editor=g=e.getEditor(0),this.editorSession=this.editor.getSession(),b&&this.editorSession.setValue(b),e&&e.setSplits(q.splits)}catch(r){logError(r,"error creating editor")}this.setOptions(q);
this.onEditorCreated(g,q);return g},addAutoCompleter:function(a){ace.require("ace/ext/language_tools").addCompleter({getCompletions:function(b,c,q,d,e){0===d.length?e(null,[]):a?e(null,a.map(function(a){return{name:a.value,value:a.word,meta:a.meta}})):e(null,[])}})}});var e=l(null,{declaredClass:"xace/views/ACE",onLoaded:function(){this.set("iconClass",this.iconClassNormal)},getKeyTarget:function(){return this.aceNode},startup:function(){this.aceNode.id=h.createUUID();if(this.permissions){var a=n.getDefaultActions(this.permissions,
this,this),a=a.concat(this.getEditorActions(this.permissions));this.addActions(a)}this.iconClassNormal=""+this.iconClass;this.set("iconClass","fa-spinner fa-spin");var b=this,c=this.options||{};if(this.item||null!=this.value)null!=this.value?b.createEditor(b.options||null,this.value):this.getContent(this.item,function(a){b.lastSavedContent=a;b.createEditor(b.options||c,a)},function(a){b.createEditor(b.options||null,"");logError(a,"error loading content from file")})}});l=l([m,e,d],{});l.EditorImplementation=
d;l.Editor=e;l.Container=m;l.Splitter=t;return l})},"xace/views/_Split":function(){define(["dcl/dcl"],function(l){var p=null;l=l(null,{declaredClass:"xace/views/Split"});l.getSplitter=function(){function k(a,b){this.$u=a;this.$doc=b}if(p)return p;var h=ace.require,r=h("ace/lib/oop"),m=h("ace/lib/lang"),l=h("ace/lib/event_emitter").EventEmitter,n=h("ace/editor").Editor,d=h("ace/virtual_renderer").VirtualRenderer,g=h("ace/edit_session").EditSession,e=h("ace/undomanager").UndoManager;h("ace/keyboard/hash_handler");
h=function(a,b,c){this.BELOW=1;this.BESIDE=0;this.$container=a;this.$theme=b;this.$splits=0;this.$editorCSS="";this.$editors=[];this.$orientation=this.BESIDE;this.setSplits(c||1);this.$cEditor=this.$editors[0];this.on("focus",function(a){this.$cEditor=a}.bind(this))};(function(){r.implement(this,l);this.$createEditor=function(){var a=document.createElement("div");a.className=this.$editorCSS;a.style.cssText="position: absolute; top:0px; bottom:0px";this.$container.appendChild(a);var b=new n(new d(a,
this.$theme));b.on("focus",function(){this._emit("focus",b)}.bind(this));this.$editors.push(b);b.session.setUndoManager(new e);b.setFontSize(this.$fontSize);return b};this.setSplits=function(a){var b;if(1>a)throw"The number of splits have to be \x3e 0!";if(a!=this.$splits){if(a>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<a;)b=this.$editors[this.$splits],this.$container.appendChild(b.container),b.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<a;)this.$createEditor(),
this.$splits++}else for(;this.$splits>a;)b=this.$editors[this.$splits-1],this.$container.removeChild(b.container),this.$splits--;this.resize()}};this.getSplits=function(){return this.$splits};this.getEditor=function(a){return this.$editors[a]};this.getCurrentEditor=function(){return this.$cEditor};this.focus=function(){this.$cEditor.focus()};this.blur=function(){this.$cEditor.blur()};this.setSessionOption=function(a,b){this.$editors.forEach(function(c){c=c.session;"mode"==a&&c.setMode(b)})};this.setTheme=
function(a){this.$editors.forEach(function(b){b.setTheme(a)})};this.setKeyboardHandler=function(a){this.$editors.forEach(function(b){b.setKeyboardHandler(a)})};this.forEach=function(a,b){this.$editors.forEach(a,b)};this.$fontSize="";this.setFontSize=function(a){this.$fontSize=a;this.forEach(function(b){b.setFontSize(a)})};this.$cloneSession=function(a){var b=new g(a.getDocument(),a.getMode()),c=a.getUndoManager();c&&(c=new k(c,b),b.setUndoManager(c));b.$informUndoManager=m.delayedCall(function(){b.$deltas=
[]});b.setTabSize(a.getTabSize());b.setUseSoftTabs(a.getUseSoftTabs());b.setOverwrite(a.getOverwrite());b.setBreakpoints(a.getBreakpoints());b.setUseWrapMode(a.getUseWrapMode());b.setUseWorker(a.getUseWorker());b.setWrapLimitRange(a.$wrapLimitRange.min,a.$wrapLimitRange.max);b.$foldData=a.$cloneFoldData();return b};this.setSession=function(a,b){var c;c=null==b?this.$cEditor:this.$editors[b];this.$editors.some(function(b){return b.session===a})&&(a=this.$cloneSession(a));c.setSession(a);return a};
this.getOrientation=function(){return this.$orientation};this.setOrientation=function(a){this.$orientation!=a&&(this.$orientation=a,this.resize())};this.resize=function(){var a=this.$container.clientWidth,b=this.$container.clientHeight,c;if(this.$orientation==this.BESIDE){a/=this.$splits;this.diffGutter&&(a-=60/this.$splits);for(var d=0;d<this.$splits;d++){c=this.$editors[d];c.container.style.width=a+"px";c.container.style.top="0px";c.container.style.left=d*a+"px";1==d&&this.diffGutter&&(c.container.style.left=
60+d*a+"px",this.diffGutter.style.left=d*a+"px");if(!b)break;$(c.container).css("height",b+"px");var e=$(c.container).find(".ace_content");c.resize();e.css("height",b+"px")}}else for(b/=this.$splits,d=0;d<this.$splits;d++)c=this.$editors[d],c.container.style.width=a+"px",c.container.style.top=d*b+"px",c.container.style.left="0px",c.container.style.height=b+"px",c.resize()}}).call(h.prototype);(function(){this.execute=function(a){this.$u.execute(a)};this.undo=function(){var a=this.$u.undo(!0);a&&this.$doc.selection.setSelectionRange(a)};
this.redo=function(){var a=this.$u.redo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.reset=function(){this.$u.reset()};this.hasUndo=function(){return this.$u.hasUndo()};this.hasRedo=function(){return this.$u.hasRedo()}}).call(k.prototype);return p=h};return l})},"xace/views/_AceMultiDocs":function(){define(["dcl/dcl","xdojo/declare","module","xace/base_handler","xace/complete_util"],function(l,p,k,h,r){function m(a,b,c,d){b=b.split(/[^a-zA-Z_0-9\$]+/);for(var e=0;e<b.length;e++){var g=b[e];
g&&(Object.prototype.hasOwnProperty.call(c,g)?c[g]++:(c[g]=1,d[g]={}),d[g][a]=!0)}return c}function t(a){var b=d[a];if(b){for(var c in b)g[c]-=b[c],delete e[c][a],0===g[c]&&(delete g[c],delete e[c]);delete d[a]}}function n(a,b){d[a]||(8E5<b.size?delete d[a]:(d[a]=m(a,b,{},{}),m(a,b,g,e)))}var d={},g={},e={},a,b,c=k.exports=Object.create(h);c.handlesLanguage=function(a){return!0};c.handlesEditor=function(){return this.HANDLES_ANY};c.getMaxFileSizeSupported=function(){return 1E6};c.onDocumentOpen=function(a,
b,c,e){d[a]||n(a,b.getValue());e()};c.addDocument=function(a,b){d[a]||n(a,b)};c.onDocumentClose=function(c,d){t(c);c==a&&(b=null);d()};c.analyze=function(c,d,e,g){b&&this.path!==a&&(t(a),n(a,b),b=null);a=this.path;b=c;e()};c.complete=function(a,b,c,d,h){a=a.getSession().getLine(c.row);c=r.retrievePrecedingIdentifier(a,c.column,this.$getIdentifierRegex());var k=g;a=[];for(var m in k)a.push(m);m=r.findCompletions(c,a);var l=this.path;m=m.filter(function(a){return!e[a][l]});m=m.slice(0,100);h(m.filter(function(a){return!a.match(/^[0-9$_\/]/)}).map(function(a){var b=
(Object.keys(e[a])[0]||"[unknown]").split("/");return{name:a,value:a,icon:null,score:k[a],meta:b[b.length-1],priority:0,isGeneric:!0}}))};c.getCompletions=function(a,b,d,e,g){var h=null;c.complete(a,null,d,null,function(a){h=a});g(null,h)};l=l(null,{declaredClass:"xide.views._AceMultiDocs",didAddMCompleter:!1,multiFileCompleter:null,addFileCompleter:function(){var a=null;this.didAddMCompleter||(this.multiFileCompleter=a=c,ace.require("ace/ext/language_tools").addCompleter(a),this.didAddMCompleter=
!0);return a}});l.completer=c;return l})},"xace/base_handler":function(){define(function(l,p,k){k.exports={HANDLES_ANY:0,HANDLES_EDITOR:1,HANDLES_IMMEDIATE:2,HANDLES_EDITOR_AND_IMMEDIATE:3,language:null,path:null,workspaceDir:null,doc:null,isFeatureEnabled:function(h){return!disabledFeatures[h]},$getIdentifierRegex:function(){return null},completeUpdate:function(h){throw Error("Use worker_util.completeUpdate instead()");},handlesLanguage:function(h){throw Error("base_handler.handlesLanguage() is not overridden");
},handlesEditor:function(){return this.HANDLES_EDITOR},getMaxFileSizeSupported:function(){return 8E5},isParsingSupported:function(){return!1},getIdentifierRegex:function(){return null},getCompletionRegex:function(){return null},getTooltipRegex:function(){return null},parse:function(h,k){k()},findNode:function(h,k,m){m()},getPos:function(h,k){k()},init:function(h){h()},onUpdate:function(h,k){k()},onDocumentOpen:function(h,k,m,l){l()},onDocumentClose:function(h,k){k()},onCursorMove:function(h,k,m,l,
n){n()},tooltip:function(h,k,m,l,n){n()},highlightOccurrences:function(h,k,m,l,n){n()},getRefactorings:function(h,k,m,l,n){n()},outline:function(h,k,m){m()},hierarchy:function(h,k,m){m()},complete:function(h,k,m,l,n){n()},analyze:function(h,k,m,l){m()},getRenamePositions:function(h,k,m,l,n){n()},onRenameBegin:function(h,k){k()},commitRename:function(h,k,l,p,n){n()},onRenameCancel:function(h){h()},codeFormat:function(h,k){k()},jumpToDefinition:function(h,k,l,p,n){n()},getResolutions:function(h,k,l,
p){p()},hasResolution:function(h,k,l,p){p()},getInspectExpression:function(h,k,l,p,n){n()}};for(f in k.exports)"function"===typeof k.exports[f]&&(k.exports[f].base_handler=!0)})},"xace/complete_util":function(){define(function(l,p,k){function h(d,g,e){e=e||m;var a=[];for(--g;0<=g&&d;g--)if(e.test(d[g]))a.push(d[g]);else break;return a.reverse().join("")}function r(d,g,e,a,b){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))return!1;a=null==e?h(d,g,t):e;e=9-(b?1:0);g=g-a.length-e;b=d.substr(g,
e)+(b?'"':"");return 0<=g&&b.match(/require\(["']/)||d.substr(g+1,e).match(/require\(["']/)}var m=/[a-zA-Z_0-9\$]/,t=/(?!["'])./,n="../static/lib";p.precededByIdentifier=function(d,g,e,a){var b=h(d,g);e&&(b+=e);if(e=""!==b&&!("0"<=b[0]&&"9">=b[0])){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))e=!0;else{e=null;for(var c=0;c<g;c++)'"'!==d[c]||e?'"'===d[c]&&'"'===e&&"\\"!==d[c-1]?e=null:"'"!==d[c]||e?"'"===d[c]&&"'"===e&&"\\"!==d[c-1]?e=null:"/"===d[c]&&"/"===d[c+1]?(e="//",c++):"/"!==
d[c]||"*"!==d[c+1]||e?"*"===d[c]&&"/"===d[c+1]&&"/*"===e?(e=null,c++):"/"!==d[c]||e?"/"===d[c]&&"/"===e&&"\\"!==d[c-1]&&(e=null):e="/":"global"!==d.substr(c+2,6)&&(e="/*",c++):e="'":e='"';e="/"!=e}e=e||r(d,g,b,a)}return e};p.isRequireJSCall=r;p.retrievePrecedingIdentifier=h;p.retrieveFollowingIdentifier=function(d,g,e){e=e||m;for(var a=[];d&&g<d.length;g++)if(e.test(d[g]))a.push(d[g]);else break;return a.join("")};p.findCompletions=function(d,g){g.sort();for(var e=0,a=g.length-1,b=Math.floor((a+e)/
2);a>e&&0<=b&&0!==g[b].indexOf(d);)d<g[b]?a=b-1:d>g[b]&&(e=b+1),b=Math.floor((a+e)/2);for(;0<b&&0===g[b-1].indexOf(d);)b--;e=[];for(b=0<=b?b:0;b<g.length&&0===g[b].indexOf(d);b++)e.push(g[b]);return e};p.fetchText=function(d){var g=new XMLHttpRequest;d=n+"/"+d;console.error("fetch text : "+d);g.open("GET",d,!1);try{g.send()}catch(e){return!1}return 200===g.status||g.responseText?g.responseText:!1};p.setStaticPrefix=function(d){n=d};p.DEFAULT_ID_REGEX=m;p.canCompleteForChangedLine=function(d,g,e,a,
b){if(e.row!==a.row||0!==g.indexOf(d))return!1;e=h(d,e.column,b);a=h(g,a.column,b);return g.substr(0,g.length-a.length)===d.substr(0,d.length-e.length)}})},"xace/views/Editor":function(){define("dcl/dcl xide/types xide/utils xaction/ActionProvider xace/views/ACEEditor xace/views/_Actions xaction/Toolbar xide/mixins/PersistenceMixin".split(" "),function(l,p,k,h,r,m,t,n){n=l([n.dcl],{declaredClass:"xace.views.EditorPersistence",defaultPrefenceTheme:"idle_fingers",defaultPrefenceFontSize:14,saveValueInPreferences:!0,
getDefaultPreferences:function(){return k.mixin({theme:this.defaultPrefenceTheme,fontSize:this.defaultPrefenceFontSize},this.saveValueInPreferences?{value:this.get("value")}:null)},onAfterAction:function(d){var g=this.getEditor().getTheme();this.savePreferences({theme:g.replace("ace/theme/",""),fontSize:this.getEditor().getFontSize()});return this.inherited(arguments)},toPreferenceId:function(d){if(!d){var g=$("body");d="xTheme-";var e;_.each(["blue","gray","white","transparent"],function(a){e=d+
a;g.hasClass(e)&&(d=e)})}return(d||this.cookiePrefix||"")+"_xace"},getDefaultOptions:function(){var d=this.inherited(arguments),g=this.loadPreferences(null);g&&k.mixin(d,g)||this.savePreferences(this.getDefaultPreferences());return d}});l=l([m,r,h.dcl,n,t.dcl],{getBreadcrumbPath:function(){if(this.item)return{path:k.replaceAll("/","",this.item.mount)+":/"+this.item.path.replace("./","/")}},tabOrder:{Home:100,View:50,Settings:20},menuOrder:{File:110,Edit:100,View:90,Block:50,Settings:20,Navigation:10,
Editor:9,Step:5,New:4,Window:3,Help:2},declaredClass:"xace/views/Editor",options:null,loadingIcon:"fa-spinner fa-spin",iconClassNormal:"fa-code",templateString:'\x3cdiv attachTo\x3d"template" class\x3d"grid-template widget" style\x3d"width: 100%;height: 100%;overflow: hidden !important;position: relative;padding: 0px;margin: 0px"\x3e\x3cdiv attachTo\x3d"header" class\x3d"view-header row bg-opaque" style\x3d"height: auto;"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"aceNode" class\x3d"view-body row" style\x3d"height:100%;width: 100%;position: relative;"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"footer" class\x3d"view-footer" style\x3d"position: absolute;bottom: 0px;width: 100%"\x3e\x3c/div\x3e\x3c/div\x3e',
getContent:function(d,g,e){this.storeDelegate?this.storeDelegate.getContent(function(a){g(a)},d||this.item):e&&e("Editor::getContent : Have no store delegate!")},saveContent:function(d,g,e){var a=this;this.set("iconClass","fa-spinner fa-spin");var b=d||this.get("value");if(this.storeDelegate)return this.storeDelegate.saveContent(b,function(){a.set("iconClass",a.iconClassNormal);a.lastSavedContent=b;a.onContentChange(!1);a.publish(p.EVENTS.ON_FILE_CONTENT_CHANGED,{path:a.options.filePath,item:a.item,
content:b,editor:a},a)},null,a.item);e&&e("Editor::saveContent : Have no store delegate!");return!1},addCommands:function(){var d=this.getAce(),g=this;ace.require("ace/config").init();var e=[];this.hasHelp&&e.push({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(a){g.showHelp(a)}});this.hasConsole&&e.push({name:"gotoline",bindKey:{win:"Ctrl-L",mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var c=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(c,
1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0});d.commands.addCommands(e)},getWebRoot:function(){return this.ctx.getResourceManager().getVariable(p.RESOURCE_VARIABLES.APP_URL)},resize:function(){return this._resize()},onResize:function(){return this._resize()},_resize:function(){var d=this.getParent();this._isMaximized?k.resizeTo(this,this._maximizeContainer,!0,!0):d&&k.resizeTo(this,d,!0,!0);var d=this.getToolbar(),g=!1,e=$(this.aceNode);this._isMaximized&&d&&k.resizeTo(d,
this.header,!0,!0);!d||d&&d.isEmpty()?g=!0:d&&d.resize();var a=$(this.domNode).height(),g=1==g?0:$(this.header).height(),b=$(this.footer).height(),a=a-g-b;d&&(a-=4);50<a?e.height(a+"px"):e.height("inherited")},__set:function(d,g){var e=this.inherited(arguments);if("iconClass"===d){var a=this._parent;a&&a.icon&&this._parent.icon(g)}return e},__get:function(d){if("value"===d){var g=this.getEditor();return(g=g?g.session:null)?g.getValue():null}return this.inherited(arguments)}});l.DEFAULT_PERMISSIONS=
m.DEFAULT_PERMISSIONS;return l})},"xace/views/_Actions":function(){define("dcl/dcl xide/utils xide/types xide/types/Types xaction/types xaction/ActionProvider xace/views/ACEEditor xaction/Toolbar xaction/DefaultActions dojo/Deferred".split(" "),function(l,p,k,h,r,m,t,n,d,g){h=k.ACTION;var e=k.VIEW_SPLIT_MODE;h=[h.RELOAD,h.SAVE,h.FIND,h.TOOLBAR,"Editor/Keyboard","View/Increase Font Size","View/Decrease Font Size","View/Themes","Help/Editor Shortcuts","Editor/Snippets","Editor/Console","Editor/Settings",
h.FULLSCREEN,"View/Layout"];l=l([t,n.dcl,m.dcl],{permissions:h,_searchBoxOpen:!1,onSingleView:function(){},setSplitMode:function(a){this.splitMode=a;if(!this.doSplit)if("Diff"==a)this.doDiff();else{var b=a==e.SPLIT_HORIZONTAL||a==e.SPLIT_VERTICAL,c=this.getEditor(),d=this.split;b?(b=1==d.getSplits(),d.setOrientation(a==e.SPLIT_HORIZONTAL?d.BELOW:d.BESIDE),d.setSplits(2),b&&(a=d.getEditor(0).session,d.setSession(a,1).name=a.name,c=c.getOptions(),d.getEditor(1).setOptions(c))):(d.setSplits(1),this.onSingleView())}},
onMaximized:function(a){var b=this.getParent();!1===a&&b&&b.resize&&b.resize();var c=this.getToolbar();c&&(a?$(c.domNode).addClass("bg-opaque"):$(c.domNode).removeClass("bg-opaque"));!1===a&&(this.resize(),b&&p.resizeTo(this,b,!0,!0),this.publish(k.EVENTS.ON_VIEW_MAXIMIZE_END));this.getEditor().focus()},maximize:function(){var a=this.domNode,b=$(a),c=this.getToolbar();if(this._isMaximized)this._isMaximized=!1,b.removeClass("AceEditorPaneFullScreen"),this._lastParent.appendChild(a),p.destroy(this._maximizeContainer),
c&&c._follow();else{this.publish(k.EVENTS.ON_VIEW_MAXIMIZE_START);this._isMaximized=!0;var b=$(this.domNode.ownerDocument),d=$("body")[0],e=p.create("div",{className:"ACEContainer bg-opaque",style:"z-index:300;height:100%;width:100%"});this._maximizeContainer=e;d.appendChild(e);$(a).addClass("AceEditorPaneFullScreen");$(a).css("width",b.width());$(a).css("height",b.height());this.resize();this._lastParent=a.parentNode;e.appendChild(a);$(e).addClass("bg-opaque");$(e).css("width",b.width());$(e).css("height",
b.height());$(e).css({position:"absolute",left:"0px",top:"0px",border:"none medium",width:"100%",height:"100%"});c&&c._unfollow(this.header)}this.onMaximized(this._isMaximized);return!0},save:function(a){var b=this.get("value"),c=this.saveContent(this.get("value"),a),d=this;this._emit(k.EVENTS.ON_FILE_CONTENT_CHANGED,{content:b,item:a});setTimeout(function(){var a=d.getEditor();a&&a.focus()},600);return c},reload:function(){var a=this,b=new g;this.getContent(this.item,function(c){a.lastSavedContent=
c;a.set("value",c);b.resolve(c)},function(a){logError(a,"error loading content from file");b.reject(a)});return b},runAction:function(a){a=this.getAction(a);if(!a)return!1;var b=this,c=a.command,d=k.ACTION,e=this.getEditor(),g=this.editorSession;-1!=c.indexOf("View/Layout")&&b.setSplitMode(a.option,null);switch(c){case d.RELOAD:return this.reload();case "View/Increase Font Size":return e.setFontSize(e.getFontSize()+1),!0;case "View/Decrease Font Size":return e.setFontSize(e.getFontSize()-1),!0;case d.FULLSCREEN:return this.maximize();
case "Help/Editor Shortcuts":b.showHelp();break;case d.SAVE:b.save(this.item);break;case d.FIND:var h=function(a){b._searchBoxOpen?(a.hide(),b._searchBoxOpen=!1):(a.show(e.session.getTextRange(),null),b._searchBoxOpen=!0)},g=ace.require("ace/lib/net"),c=this.getWebRoot();(d=e.searchBox)?h(d):g.loadScript(c+"/xfile/ext/ace/ext-searchbox.js",function(a){a=ace.require("ace/ext/searchbox");h(new a.SearchBox(e))});return!0}if(-1!==c.indexOf("View/Themes")){b.set("theme",a.theme);if(d=a.getParent?a.getParent():
null)d=d.getChildren(),_.each(d,function(a){a.set("icon",a._oldIcon)});a.set("icon","fa fa-check")}if(-1!==c.indexOf("Editor/Settings")){var c=a.option,d=e.getOption(a.option),l=_.isBoolean(d);if("highlightActive"===c){e.setHighlightActiveLine(!e.getHighlightActiveLine());return}if(l)e.setOption(a.option,!d);else{if("wordWrap"===c)return g=g.getUseWrapMode(),this.set("wordWrap",!g),!0;"off"===d||"on"===d?e.setOption(c,"off"===d?"on":"off"):e.setOption(a.option,!1)}return!0}return this.inherited(arguments)},
getEditorActions:function(a){function b(a,b,d,e,h,k,l,m){h=h||{};b=b||"Editor/Settings/"+a||"Editor/Settings/"+a;h=h||{};a=g.createAction(p.mixin({label:a,command:b,icon:d||"fa-cogs",group:k||"Settings",mixin:p.mixin({addPermission:!0,option:e,actionType:l,owner:g},h)},m));c.push(a);return a}var c=[],g=this,h=k.ACTION,l=k.ACTION_ICON;c.push(this.createAction({label:"Save",command:h.SAVE,icon:l.SAVE,keycombo:"ctrl s",group:"File"}));c.push(this.createAction({label:"Find",command:h.FIND,icon:l.SEARCH,
keycombo:"ctrl f",group:"Search"}));c.push(this.createAction({label:"Fullscreen",command:h.FULLSCREEN,icon:l.MAXIMIZE,keycombo:"ctrl f11",group:"View"}));c.push(this.createAction({label:"Increase Fontsize",command:"View/Increase Font Size",icon:"fa-text-height",group:"View"}));c.push(this.createAction({label:"Decrease Fontsize",command:"View/Decrease Font Size",icon:"fa-text-height",group:"View"}));d.hasAction(a,"View/Themes")&&(c.push(this.createAction({label:"Themes",command:"View/Themes",icon:"fa-paint-brush",
group:"View",mixin:{closeOnClick:!1,value:this.defaultPrefenceTheme},onCreate:function(a){var b=g.getDefaultOptions();a.set("value",b.theme)}})),g._addThemes&&g._addThemes(c));c.push(this.createAction({label:"Help",command:"Help/Editor Shortcuts",icon:"fa-question",keycombo:"f1"}));c.push(this.createAction({label:"Settings",command:"Editor/Settings",icon:"fa-cogs",group:"Settings"}));h={onCreate:function(a){var b=g.getOptionsMixed()[this.option];null!==b&&a.set("value",b)},onChange:function(a,b){this.value=
b;g.runAction(this)}};b("Show Gutters",null,null,"showGutter",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Show Print Margin",null,null,"showPrintMargin",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Display Intend Guides",null,null,"displayIndentGuides",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Show Line Numbers",null,null,"showLineNumbers",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Show Indivisibles",null,null,"showInvisibles",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Use Soft Tabs",null,null,"useSoftTabs",
null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Use Elastic Tab Stops",null,null,"useElasticTabstops",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Animated Scroll",null,null,"animatedScroll",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Word Wrap",null,null,"wordWrap",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);b("Highlight Active Line",null,null,"highlightActive",null,null,k.ACTION_TYPE.MULTI_TOGGLE,h);d.hasAction(a,"View/Layout")&&(c.push(this.createAction({label:"Split",command:"View/Layout",icon:"fa-columns",
group:"View"})),c.push(b("None","View/Layout/None","fa-columns",e.SOURCE,null,"View",k.ACTION_TYPE.SINGLE_TOGGLE)),c.push(b("Horizontal","View/Layout/Horizontal","layoutIcon-horizontalSplit",e.SPLIT_HORIZONTAL,null,"View",k.ACTION_TYPE.SINGLE_TOGGLE)),c.push(b("Vertical","View/Layout/Vertical","layoutIcon-layout293",e.SPLIT_VERTICAL,null,"View",k.ACTION_TYPE.SINGLE_TOGGLE)));return c},_addThemes:function(a){for(var b=this.getThemeData(),c=this,d=function(a,b,d){return c.createAction({label:a,command:"View/Themes/"+
a,group:"View",icon:b,mixin:{addPermission:!0,value:d,theme:d,closeOnClick:!1},onCreate:function(a){a._oldIcon=b;a.set("value",d);a.actionType=k.ACTION_TYPE.SINGLE_TOGGLE}})},e=0;e<b.length;e++){var g=b[e],h=g[1]||g[0].replace(/ /g,"_").toLowerCase(),g=d(g[0]," ",h);a.push(g)}},showHelp:function(a){a=a||this.getEditor();ace.require("ace/config").loadModule("ace/ext/keybinding_menu",function(b){b.init(a);a.showKeyboardShortcuts()})},getThemeData:function(){return[["Chrome"],["Clouds"],["Crimson Editor"],
["Dawn"],["Dreamweaver"],["Eclipse"],["GitHub"],["Solarized Light"],["TextMate"],["Tomorrow"],["XCode"],["Kuroir"],["KatzenMilch"],["Ambiance","ambiance","dark"],["Day","cloud9_day"],["Night","cloud9_night"],["Chaos","chaos","dark"],["Midnight","clouds_midnight","dark"],["Cobalt","cobalt","dark"],["idle Fingers","idle_fingers","dark"],["krTheme","kr_theme","dark"],["Merbivore","merbivore","dark"],["Merbivore-Soft","merbivore_soft","dark"],["Mono Industrial","mono_industrial","dark"],["Monokai","monokai",
"dark"],["Pastel on dark","pastel_on_dark","dark"],["Solarized Dark","solarized_dark","dark"],["Terminal","terminal","dark"],["Tomorrow-Night","tomorrow_night","dark"],["Tomorrow-Night-Blue","tomorrow_night_blue","dark"],["Tomorrow-Night-Bright","tomorrow_night_bright","dark"],["Tomorrow-Night-80s","tomorrow_night_eighties","dark"],["Twilight","twilight","dark"],["Vibrant Ink","vibrant_ink","dark"]]}});l.DEFAULT_PERMISSIONS=h;return l})}}});
//# sourceMappingURL=xace.js.map