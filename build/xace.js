//>>built
require({cache:{"xace/main":function(){define(["dojo/_base/kernel","xace/views/ACEEditor","xace/views/Editor"],function(){return dojo.xace})},"xace/views/ACEEditor":function(){define("dcl/dcl dojo/has dojo/dom-construct xide/utils xide/types xide/widgets/TemplatedWidgetBase xace/views/_Split xaction/DefaultActions xace/views/_AceMultiDocs".split(" "),function(l,q,k,g,r,m,t,p,d){var e={};m=l([m],{resizeToParent:!0,templateString:'\x3cdiv attachTo\x3d"aceNode" style\x3d"width: 100%;height: 100%" class\x3d""\x3e\x3c/div\x3e'});
d=l(d,{declaredClass:"xace/views/EditorInterface",editorSession:null,_lastValue:null,enableMultiDocuments:function(){this.addFileCompleter().addDocument("asdf.js","var xxxTop \x3d 2*3;")},loadScript:function(a,b,h){b=document.createElement("script");b.type="application/javascript";b.src=a;b.onload=function(){h&&h()};document.body.appendChild(b)},setMode:function(a,b,h){if((b=b||this.ctx)&&b.getResourceManager()){var n=this;if(e[a])n.set("mode",a),h&&h(a);else{var c=null;(c=b.getResourceManager().getVariable(r.RESOURCE_VARIABLES.ACE))?
c=c+"/mode-"+a+".js":(b=b.getResourceManager().getVariable(r.RESOURCE_VARIABLES.APP_URL),q("debug"),c=b+"/xfile/ext/ace//mode-"+a+".js");this.loadScript(c,null,function(){e[a]=!0;n.set("mode",a);h&&h(a)})}}else console.error("have no resource manager!")},get:function(a){if("value"===a){var b=this.getEditor();return(b=b?b.session:null)?b.getValue():null}return this.inherited(arguments)},set:function(a,b){var h=this,n=this.getEditor(),c=this.editorSession;if("iconClass"===a){var d=this._parent;d&&d.icon&&
this._parent.icon(b)}if(n&&c)if(d=n.container,"item"==a&&(c.setUseWorker(!1),h.getContent(b,function(a){var n=h._getMode(b.path);h.set("value",a);h.setMode(n);c.setUseWorker(h.options.useWorker)})),"value"==a&&b)c.setValue(b);else if("theme"==a)"string"==typeof b&&(b="ace/theme/"+b),n.setTheme(b),this.split&&this.split.setTheme(b);else if("mode"==a)try{ace.require(["ace/mode/"+b],function(a){a&&a.Mode&&h.split.$editors.forEach(function(b){b.session.setMode(new a.Mode)})})}catch(e){console.error("ace mode failed : "+
b)}else"readOnly"==a?n.setReadOnly(b):"tabSize"==a?c.setTabSize(b):"softTabs"==a?c.setUseSoftTabs(b):"wordWrap"==a?c.setUseWrapMode(b):"printMargin"==a?n.renderer.setPrintMarginColumn(b):"showPrintMargin"==a?n.setShowPrintMargin(b):"highlightActiveLine"==a?n.setHighlightActiveLine(b):"fontSize"==a?$(d).css(a,b):"showIntentGuides"==a?n.setDisplayIndentGuides(b):"elasticTabstops"==a?n.setOption("useElasticTabstops",b):"useIncrementalSearch"==a?n.setOption("useIncrementalSearch",b):"showGutter"==a&&
n.renderer.setShowGutter(b);return this.inherited("set",arguments)},_getMode:function(a){a=a||this.fileName;var b="javascript";if(a){b=g.getFileExtension(a)||"js";if("js"===b||"xblox"===b)b="javascript";if("h"===b||"cpp"===b)b="c_cpp";if("html"===b||"cfhtml"===b||"dhtml"===b)b="html";"cp"===b&&(b="xml");"md"===b&&(b="markdown");"hbs"===b&&(b="handlebars")}return b},setOptions:function(a){this.options=a;_.each(a,function(a,b){this.set(b,a)},this);var b=this.getEditor();b&&a.aceOptions&&(b.setOptions(a.aceOptions),
b.session.setUseWorker(a.useWorker),b.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.setMode(a.mode));return this.options},getOptions:function(){return this.options},onContentChange:function(a){},onDidChange:function(){var a=this.get("value");this._lastValue!==a&&(this._lastValue=a,this._emit("change",a),this.onContentChange(a))},getDefaultOptions:function(a,b){var h=this;return g.mixin({region:"center",style:"margin: 0; padding: 0; position:relative;overflow: auto;height:inherit;width:inherit;text-align:left;",
readOnly:!1,tabSize:2,wordWrap:!1,showPrintMargin:!1,highlightActiveLine:!0,fontSize:16,showGutter:!0,showLineNumbers:!0,useWorker:!0,showInvisibles:!1,displayIndentGuides:!0,useSoftTabs:!0,fileName:"none",mode:"javascript",value:a||this.value||"No value",theme:"idle_fingers",splits:1,useElasticTabstops:!1,animatedScroll:!1,highlightActive:!0,aceOptions:{enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onLoad:function(a){a.$blockScrolling=Infinity},onDidChange:function(){var a=
h.get("value");if(a!==h.lastSavedContent)h.onContentChange(a)},onPrefsChanged:function(){h.setPreferences&&h.setPreferences()}},b)},getEditor:function(a){if(this.split)return null==a?this.split.getCurrentEditor():this.split.getEditor(null!=a?a:0);if(this.editor)return this.editor},resize:function(a,b,h){a=this.options||{};this.onResize&&this.onResize();return this.debounce("resize",function(){var a=this.getEditor(),b=this.split||this.editor;if(a&&this.aceNode&&a.container)return a&&g.resizeTo(a.container,
this.aceNode,!0,!0),b?b.resize():null;this.resize_debounced.cancel();this.resize_debounced=null}.bind(this),a.resizeDelay||300,null)},getAce:function(){return this.getEditor()},addBasicCommands:function(a){a=a||this.getEditor();var b=this;a.commands.addCommands([{name:"gotoline",bindKey:{win:"Ctrl-L",mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var c=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(c,1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0},
{name:"snippet",bindKey:{win:"Alt-C",mac:"Command-Alt-C"},exec:function(a,b){if("object"==typeof b)a.cmdLine.setValue("snippet ",1),a.cmdLine.focus();else{var c=snippetManager.getSnippetByName(b,a);c&&snippetManager.insertSnippet(a,c.content)}},readOnly:!0},{name:"increaseFontSize",bindKey:"Ctrl-+",exec:function(a){a.setFontSize(a.getFontSize()+1);b.onAfterAction()}},{name:"decreaseFontSize",bindKey:"Ctrl+-",exec:function(a){a.setFontSize(a.getFontSize()-1);b.onAfterAction()}},{name:"resetFontSize",
bindKey:"Ctrl+0",exec:function(a){a.setFontSize(12);b.onAfterAction()}}])},onEditorCreated:function(a,b){var c=this;a.getSelectedText=function(){return c.editorSession.getTextRange(this.getSelectionRange())};a.on("change",function(){c.onDidChange(arguments)});this.addBasicCommands(a);a.setFontSize(b.fontSize);a.$blockScrolling=Infinity},destroy:function(){var a=this.getEditor();a&&a.destroy();(a=this.resize_debounced)&&a.cancel()},getOptionsMixed:function(a){var b=this.getPreferences?this.getPreferences():
{},c=this.getDefaultOptions(this.value,a||this.options);g.mixin(c,a);g.mixin(c,b);c.mode=this._getMode(c.fileName);return c},createEditor:function(a,b){this.set("iconClass",this.iconClassNormal);if(this.editor||this.split)return this.editor||this.split;var c=this.getPreferences?this.getPreferences():{},n=this.getDefaultOptions(b);g.mixin(n,a);g.mixin(n,c);n.mode=this._getMode(n.fileName);c=n.targetNode||k.create("div");$(c).css({padding:"0",margin:"0",height:"100%",width:"100%"});this.aceNode.appendChild(c);
var d=ace.require("ace/config"),e=null,r=null;try{this.split=e=new (t.getSplitter())(c,null,1),this._aceConfig=d,d.init(),ace.require("ace/ext/language_tools"),this.editor=r=e.getEditor(0),this.editorSession=this.editor.getSession(),b&&this.editorSession.setValue(b),e&&e.setSplits(n.splits)}catch(m){logError(m,"error creating editor")}this.setOptions(n);this.onEditorCreated(r,n);return r},addAutoCompleter:function(a){ace.require("ace/ext/language_tools").addCompleter({getCompletions:function(b,c,
n,d,e){0===d.length?e(null,[]):a?e(null,a.map(function(a){return{name:a.value,value:a.word,meta:a.meta}})):e(null,[])}})}});var c=l(null,{declaredClass:"xace/views/ACE",onLoaded:function(){this.set("iconClass",this.iconClassNormal)},getKeyTarget:function(){return this.aceNode},startup:function(){this.aceNode.id=g.createUUID();if(this.permissions){var a=p.getDefaultActions(this.permissions,this,this),a=a.concat(this.getEditorActions(this.permissions));this.addActions(a)}this.iconClassNormal=""+this.iconClass;
this.set("iconClass","fa-spinner fa-spin");var b=this,c=this.options||{};if(this.item||null!=this.value)null!=this.value?b.createEditor(b.options||null,this.value):this.getContent(this.item,function(a){b.lastSavedContent=a;b.createEditor(b.options||c,a)},function(a){b.createEditor(b.options||null,"");logError(a,"error loading content from file")})}});l=l([m,c,d],{});l.EditorImplementation=d;l.Editor=c;l.Container=m;l.Splitter=t;return l})},"xace/views/_Split":function(){define(["dcl/dcl"],function(l){var q=
null;l=l(null,{declaredClass:"xace/views/Split"});l.getSplitter=function(){function k(a,b){this.$u=a;this.$doc=b}if(q)return q;var g=ace.require,r=g("ace/lib/oop"),m=g("ace/lib/lang"),l=g("ace/lib/event_emitter").EventEmitter,p=g("ace/editor").Editor,d=g("ace/virtual_renderer").VirtualRenderer,e=g("ace/edit_session").EditSession,c=g("ace/undomanager").UndoManager;g("ace/keyboard/hash_handler");g=function(a,b,c){this.BELOW=1;this.BESIDE=0;this.$container=a;this.$theme=b;this.$splits=0;this.$editorCSS=
"";this.$editors=[];this.$orientation=this.BESIDE;this.setSplits(c||1);this.$cEditor=this.$editors[0];this.on("focus",function(a){this.$cEditor=a}.bind(this))};(function(){r.implement(this,l);this.$createEditor=function(){var a=document.createElement("div");a.className=this.$editorCSS;a.style.cssText="position: absolute; top:0px; bottom:0px";this.$container.appendChild(a);var b=new p(new d(a,this.$theme));b.on("focus",function(){this._emit("focus",b)}.bind(this));this.$editors.push(b);b.session.setUndoManager(new c);
b.setFontSize(this.$fontSize);return b};this.setSplits=function(a){var b;if(1>a)throw"The number of splits have to be \x3e 0!";if(a!=this.$splits){if(a>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<a;)b=this.$editors[this.$splits],this.$container.appendChild(b.container),b.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<a;)this.$createEditor(),this.$splits++}else for(;this.$splits>a;)b=this.$editors[this.$splits-1],this.$container.removeChild(b.container),this.$splits--;
this.resize()}};this.getSplits=function(){return this.$splits};this.getEditor=function(a){return this.$editors[a]};this.getCurrentEditor=function(){return this.$cEditor};this.focus=function(){this.$cEditor.focus()};this.blur=function(){this.$cEditor.blur()};this.setSessionOption=function(a,b){this.$editors.forEach(function(c){c=c.session;"mode"==a&&c.setMode(b)})};this.setTheme=function(a){this.$editors.forEach(function(b){b.setTheme(a)})};this.setKeyboardHandler=function(a){this.$editors.forEach(function(b){b.setKeyboardHandler(a)})};
this.forEach=function(a,b){this.$editors.forEach(a,b)};this.$fontSize="";this.setFontSize=function(a){this.$fontSize=a;this.forEach(function(b){b.setFontSize(a)})};this.$cloneSession=function(a){var b=new e(a.getDocument(),a.getMode()),c=a.getUndoManager();c&&(c=new k(c,b),b.setUndoManager(c));b.$informUndoManager=m.delayedCall(function(){b.$deltas=[]});b.setTabSize(a.getTabSize());b.setUseSoftTabs(a.getUseSoftTabs());b.setOverwrite(a.getOverwrite());b.setBreakpoints(a.getBreakpoints());b.setUseWrapMode(a.getUseWrapMode());
b.setUseWorker(a.getUseWorker());b.setWrapLimitRange(a.$wrapLimitRange.min,a.$wrapLimitRange.max);b.$foldData=a.$cloneFoldData();return b};this.setSession=function(a,b){var c;c=null==b?this.$cEditor:this.$editors[b];this.$editors.some(function(b){return b.session===a})&&(a=this.$cloneSession(a));c.setSession(a);return a};this.getOrientation=function(){return this.$orientation};this.setOrientation=function(a){this.$orientation!=a&&(this.$orientation=a,this.resize())};this.resize=function(){var a=this.$container.clientWidth,
b=this.$container.clientHeight,c;if(this.$orientation==this.BESIDE){a/=this.$splits;this.diffGutter&&(a-=60/this.$splits);for(var n=0;n<this.$splits;n++){c=this.$editors[n];c.container.style.width=a+"px";c.container.style.top="0px";c.container.style.left=n*a+"px";1==n&&this.diffGutter&&(c.container.style.left=60+n*a+"px",this.diffGutter.style.left=n*a+"px");if(!b)break;$(c.container).css("height",b+"px");var d=$(c.container).find(".ace_content");c.resize();d.css("height",b+"px")}}else for(b/=this.$splits,
n=0;n<this.$splits;n++)c=this.$editors[n],c.container.style.width=a+"px",c.container.style.top=n*b+"px",c.container.style.left="0px",c.container.style.height=b+"px",c.resize()}}).call(g.prototype);(function(){this.execute=function(a){this.$u.execute(a)};this.undo=function(){var a=this.$u.undo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.redo=function(){var a=this.$u.redo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.reset=function(){this.$u.reset()};this.hasUndo=function(){return this.$u.hasUndo()};
this.hasRedo=function(){return this.$u.hasRedo()}}).call(k.prototype);return q=g};return l})},"xace/views/_AceMultiDocs":function(){define(["dcl/dcl","xdojo/declare","module","xace/base_handler","xace/complete_util"],function(l,q,k,g,r){function m(a,b,c,d){b=b.split(/[^a-zA-Z_0-9\$]+/);for(var e=0;e<b.length;e++){var h=b[e];h&&(Object.prototype.hasOwnProperty.call(c,h)?c[h]++:(c[h]=1,d[h]={}),d[h][a]=!0)}return c}function t(a){var b=d[a];if(b){for(var h in b)e[h]-=b[h],delete c[h][a],0===e[h]&&(delete e[h],
delete c[h]);delete d[a]}}function p(a,b){d[a]||(8E5<b.size?delete d[a]:(d[a]=m(a,b,{},{}),m(a,b,e,c)))}var d={},e={},c={},a,b,h=k.exports=Object.create(g);h.handlesLanguage=function(a){return!0};h.handlesEditor=function(){return this.HANDLES_ANY};h.getMaxFileSizeSupported=function(){return 1E6};h.onDocumentOpen=function(a,b,c,h){d[a]||p(a,b.getValue());h()};h.addDocument=function(a,b){d[a]||p(a,b)};h.onDocumentClose=function(c,d){t(c);c==a&&(b=null);d()};h.analyze=function(c,d,h,e){b&&this.path!==
a&&(t(a),p(a,b),b=null);a=this.path;b=c;h()};h.complete=function(a,b,d,h,g){a=a.getSession().getLine(d.row);d=r.retrievePrecedingIdentifier(a,d.column,this.$getIdentifierRegex());var k=e;a=[];for(var m in k)a.push(m);m=r.findCompletions(d,a);var l=this.path;m=m.filter(function(a){return!c[a][l]});m=m.slice(0,100);g(m.filter(function(a){return!a.match(/^[0-9$_\/]/)}).map(function(a){var b=(Object.keys(c[a])[0]||"[unknown]").split("/");return{name:a,value:a,icon:null,score:k[a],meta:b[b.length-1],priority:0,
isGeneric:!0}}))};h.getCompletions=function(a,b,c,d,e){var g=null;h.complete(a,null,c,null,function(a){g=a});e(null,g)};l=l(null,{declaredClass:"xide.views._AceMultiDocs",didAddMCompleter:!1,multiFileCompleter:null,addFileCompleter:function(){var a=null;this.didAddMCompleter||(this.multiFileCompleter=a=h,ace.require("ace/ext/language_tools").addCompleter(a),this.didAddMCompleter=!0);return a}});l.completer=h;return l})},"xace/base_handler":function(){define(function(l,q,k){k.exports={HANDLES_ANY:0,
HANDLES_EDITOR:1,HANDLES_IMMEDIATE:2,HANDLES_EDITOR_AND_IMMEDIATE:3,language:null,path:null,workspaceDir:null,doc:null,isFeatureEnabled:function(g){return!disabledFeatures[g]},$getIdentifierRegex:function(){return null},completeUpdate:function(g){throw Error("Use worker_util.completeUpdate instead()");},handlesLanguage:function(g){throw Error("base_handler.handlesLanguage() is not overridden");},handlesEditor:function(){return this.HANDLES_EDITOR},getMaxFileSizeSupported:function(){return 8E5},isParsingSupported:function(){return!1},
getIdentifierRegex:function(){return null},getCompletionRegex:function(){return null},getTooltipRegex:function(){return null},parse:function(g,r){r()},findNode:function(g,r,m){m()},getPos:function(g,r){r()},init:function(g){g()},onUpdate:function(g,r){r()},onDocumentOpen:function(g,r,m,k){k()},onDocumentClose:function(g,k){k()},onCursorMove:function(g,k,m,l,p){p()},tooltip:function(g,k,m,l,p){p()},highlightOccurrences:function(g,k,m,l,p){p()},getRefactorings:function(g,k,m,l,p){p()},outline:function(g,
k,m){m()},hierarchy:function(g,k,m){m()},complete:function(g,k,m,l,p){p()},analyze:function(g,k,m,l){m()},getRenamePositions:function(g,k,m,l,p){p()},onRenameBegin:function(g,k){k()},commitRename:function(g,k,m,l,p){p()},onRenameCancel:function(g){g()},codeFormat:function(g,k){k()},jumpToDefinition:function(g,k,m,l,p){p()},getResolutions:function(g,k,m,l){l()},hasResolution:function(g,k,l,q){q()},getInspectExpression:function(g,k,l,q,p){p()}};for(f in k.exports)"function"===typeof k.exports[f]&&(k.exports[f].base_handler=
!0)})},"xace/complete_util":function(){define(function(l,q,k){function g(d,e,c){c=c||m;var a=[];for(--e;0<=e&&d;e--)if(c.test(d[e]))a.push(d[e]);else break;return a.reverse().join("")}function r(d,e,c,a,b){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))return!1;a=null==c?g(d,e,t):c;c=9-(b?1:0);e=e-a.length-c;b=d.substr(e,c)+(b?'"':"");return 0<=e&&b.match(/require\(["']/)||d.substr(e+1,c).match(/require\(["']/)}var m=/[a-zA-Z_0-9\$]/,t=/(?!["'])./,p="../static/lib";q.precededByIdentifier=
function(d,e,c,a){var b=g(d,e);c&&(b+=c);if(c=""!==b&&!("0"<=b[0]&&"9">=b[0])){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))c=!0;else{c=null;for(var h=0;h<e;h++)'"'!==d[h]||c?'"'===d[h]&&'"'===c&&"\\"!==d[h-1]?c=null:"'"!==d[h]||c?"'"===d[h]&&"'"===c&&"\\"!==d[h-1]?c=null:"/"===d[h]&&"/"===d[h+1]?(c="//",h++):"/"!==d[h]||"*"!==d[h+1]||c?"*"===d[h]&&"/"===d[h+1]&&"/*"===c?(c=null,h++):"/"!==d[h]||c?"/"===d[h]&&"/"===c&&"\\"!==d[h-1]&&(c=null):c="/":"global"!==d.substr(h+2,6)&&(c="/*",
h++):c="'":c='"';c="/"!=c}c=c||r(d,e,b,a)}return c};q.isRequireJSCall=r;q.retrievePrecedingIdentifier=g;q.retrieveFollowingIdentifier=function(d,e,c){c=c||m;for(var a=[];d&&e<d.length;e++)if(c.test(d[e]))a.push(d[e]);else break;return a.join("")};q.findCompletions=function(d,e){e.sort();for(var c=0,a=e.length-1,b=Math.floor((a+c)/2);a>c&&0<=b&&0!==e[b].indexOf(d);)d<e[b]?a=b-1:d>e[b]&&(c=b+1),b=Math.floor((a+c)/2);for(;0<b&&0===e[b-1].indexOf(d);)b--;c=[];for(b=0<=b?b:0;b<e.length&&0===e[b].indexOf(d);b++)c.push(e[b]);
return c};q.fetchText=function(d){var e=new XMLHttpRequest;d=p+"/"+d;console.error("fetch text : "+d);e.open("GET",d,!1);try{e.send()}catch(c){return!1}return 200===e.status||e.responseText?e.responseText:!1};q.setStaticPrefix=function(d){p=d};q.DEFAULT_ID_REGEX=m;q.canCompleteForChangedLine=function(d,e,c,a,b){if(c.row!==a.row||0!==e.indexOf(d))return!1;c=g(d,c.column,b);a=g(e,a.column,b);return e.substr(0,e.length-a.length)===d.substr(0,d.length-c.length)}})},"xace/views/Editor":function(){define("dcl/dcl xide/types xide/utils xaction/ActionProvider xace/views/ACEEditor xace/views/_Actions xaction/Toolbar xide/mixins/PersistenceMixin".split(" "),
function(l,q,k,g,r,m,t,p){p=l([p.dcl],{declaredClass:"xace.views.EditorPersistence",defaultPrefenceTheme:"idle_fingers",defaultPrefenceFontSize:14,saveValueInPreferences:!0,getDefaultPreferences:function(){return k.mixin({theme:this.defaultPrefenceTheme,fontSize:this.defaultPrefenceFontSize},this.saveValueInPreferences?{value:this.get("value")}:null)},onAfterAction:function(d){var e=this.getEditor().getTheme();this.savePreferences({theme:e.replace("ace/theme/",""),fontSize:this.getEditor().getFontSize()});
return this.inherited(arguments)},toPreferenceId:function(d){if(!d){var e=$("body");d="xTheme-";var c;_.each(["blue","gray","white","transparent"],function(a){c=d+a;e.hasClass(c)&&(d=c)})}return(d||this.cookiePrefix||"")+"_xace"},getDefaultOptions:function(){var d=this.inherited(arguments),e=this.loadPreferences(null);e&&k.mixin(d,e)||this.savePreferences(this.getDefaultPreferences());return d}});l=l([m,r,g.dcl,p,t.dcl],{getBreadcrumbPath:function(){if(this.item)return{path:k.replaceAll("/","",this.item.mount)+
":/"+this.item.path.replace("./","/")}},tabOrder:{Home:100,View:50,Settings:20},menuOrder:{File:110,Edit:100,View:90,Block:50,Settings:20,Navigation:10,Editor:9,Step:5,New:4,Window:3,Help:2},declaredClass:"xace/views/Editor",options:null,loadingIcon:"fa-spinner fa-spin",iconClassNormal:"fa-code",templateString:'\x3cdiv attachTo\x3d"template" class\x3d"grid-template widget" style\x3d"width: 100%;height: 100%;overflow: hidden !important;position: relative;padding: 0px;margin: 0px"\x3e\x3cdiv attachTo\x3d"header" class\x3d"view-header row bg-opaque" style\x3d"height: auto;"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"aceNode" class\x3d"view-body row" style\x3d"height:100%;width: 100%;position: relative;"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"footer" class\x3d"view-footer" style\x3d"position: absolute;bottom: 0px;width: 100%"\x3e\x3c/div\x3e\x3c/div\x3e',
getContent:function(d,e,c){this.storeDelegate?this.storeDelegate.getContent(function(a){e(a)},d||this.item):c&&c("Editor::getContent : Have no store delegate!")},saveContent:function(d,e,c){var a=this;this.set("iconClass","fa-spinner fa-spin");var b=d||this.get("value");if(this.storeDelegate)return this.storeDelegate.saveContent(b,function(){a.set("iconClass",a.iconClassNormal);a.lastSavedContent=b;a.onContentChange(!1);a.publish(q.EVENTS.ON_FILE_CONTENT_CHANGED,{path:a.options.filePath,item:a.item,
content:b,editor:a},a)},null,a.item);c&&c("Editor::saveContent : Have no store delegate!");return!1},addCommands:function(){var d=this.getAce(),e=this;ace.require("ace/config").init();var c=[];this.hasHelp&&c.push({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(a){e.showHelp(a)}});this.hasConsole&&c.push({name:"gotoline",bindKey:{win:"Ctrl-L",mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var c=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(c,
1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0});d.commands.addCommands(c)},getWebRoot:function(){return this.ctx.getResourceManager().getVariable(q.RESOURCE_VARIABLES.APP_URL)},resize:function(){return this._resize()},onResize:function(){return this._resize()},_resize:function(){var d=this.getParent();this._isMaximized?k.resizeTo(this,this._maximizeContainer,!0,!0):d&&k.resizeTo(this,d,!0,!0);var d=this.getToolbar(),e=!1,c=$(this.aceNode);this._isMaximized&&d&&k.resizeTo(d,
this.header,!0,!0);!d||d&&d.isEmpty()?e=!0:d&&d.resize();var a=$(this.domNode).height(),e=1==e?0:$(this.header).height(),b=$(this.footer).height(),a=a-e-b;d&&(a-=4);50<a?c.height(a+"px"):c.height("inherited")},__set:function(d,e){var c=this.inherited(arguments);if("iconClass"===d){var a=this._parent;a&&a.icon&&this._parent.icon(e)}return c},__get:function(d){if("value"===d){var e=this.getEditor();return(e=e?e.session:null)?e.getValue():null}return this.inherited(arguments)}});l.DEFAULT_PERMISSIONS=
m.DEFAULT_PERMISSIONS;return l})},"xace/views/_Actions":function(){define("dcl/dcl xide/utils xide/types xide/types/Types xaction/types xaction/ActionProvider xace/views/ACEEditor xaction/Toolbar xaction/DefaultActions".split(" "),function(l,q,k,g,r,m,t,p,d){g=k.ACTION;var e=k.VIEW_SPLIT_MODE;g=[g.RELOAD,g.SAVE,g.FIND,g.TOOLBAR,"Editor/Keyboard","View/Increase Font Size","View/Decrease Font Size","View/Themes","Help/Editor Shortcuts","Editor/Snippets","Editor/Console","Editor/Settings",g.FULLSCREEN,
"View/Layout"];l=l([t,p.dcl,m.dcl],{permissions:g,_searchBoxOpen:!1,onSingleView:function(){},setSplitMode:function(c){this.splitMode=c;if(!this.doSplit)if("Diff"==c)this.doDiff();else{var a=c==e.SPLIT_HORIZONTAL||c==e.SPLIT_VERTICAL,b=this.getEditor(),d=this.split;a?(a=1==d.getSplits(),d.setOrientation(c==e.SPLIT_HORIZONTAL?d.BELOW:d.BESIDE),d.setSplits(2),a&&(c=d.getEditor(0).session,d.setSession(c,1).name=c.name,b=b.getOptions(),d.getEditor(1).setOptions(b))):(d.setSplits(1),this.onSingleView())}},
onMaximized:function(c){var a=this.getParent();!1===c&&a&&a.resize&&a.resize();var b=this.getToolbar();b&&(c?$(b.domNode).addClass("bg-opaque"):$(b.domNode).removeClass("bg-opaque"));!1===c&&(this.resize(),a&&q.resizeTo(this,a,!0,!0),this.publish(k.EVENTS.ON_VIEW_MAXIMIZE_END));this.getEditor().focus()},maximize:function(){var c=this.domNode,a=$(c),b=this.getToolbar();if(this._isMaximized)this._isMaximized=!1,a.removeClass("AceEditorPaneFullScreen"),this._lastParent.appendChild(c),q.destroy(this._maximizeContainer),
b&&b._follow();else{this.publish(k.EVENTS.ON_VIEW_MAXIMIZE_START);this._isMaximized=!0;var a=$(this.domNode.ownerDocument),d=$("body")[0],e=q.create("div",{className:"ACEContainer bg-opaque",style:"z-index:300;height:100%;width:100%"});this._maximizeContainer=e;d.appendChild(e);$(c).addClass("AceEditorPaneFullScreen");$(c).css("width",a.width());$(c).css("height",a.height());this.resize();this._lastParent=c.parentNode;e.appendChild(c);$(e).addClass("bg-opaque");$(e).css("width",a.width());$(e).css("height",
a.height());$(e).css({position:"absolute",left:"0px",top:"0px",border:"none medium",width:"100%",height:"100%"});b&&b._unfollow(this.header)}this.onMaximized(this._isMaximized);return!0},save:function(c){c=this.saveContent(this.get("value"),c);var a=this;setTimeout(function(){var b=a.getEditor();b&&b.focus()},600);return c},runAction:function(c){c=this.getAction(c);if(!c)return!1;var a=this,b=c.command,d=k.ACTION,e=this.getEditor(),g=this.editorSession;-1!=b.indexOf("View/Layout")&&a.setSplitMode(c.option,
null);switch(b){case "View/Increase Font Size":return e.setFontSize(e.getFontSize()+1),!0;case "View/Decrease Font Size":return e.setFontSize(e.getFontSize()-1),!0;case d.FULLSCREEN:return this.maximize();case "Help/Editor Shortcuts":a.showHelp();break;case d.SAVE:a.save(this.item);break;case d.FIND:var l=function(b){a._searchBoxOpen?(b.hide(),a._searchBoxOpen=!1):(b.show(e.session.getTextRange(),null),a._searchBoxOpen=!0)},g=ace.require("ace/lib/net"),b=this.getWebRoot();(d=e.searchBox)?l(d):g.loadScript(b+
"/xfile/ext/ace/ext-searchbox.js",function(a){a=ace.require("ace/ext/searchbox");l(new a.SearchBox(e))});return!0}if(-1!==b.indexOf("View/Themes")){a.set("theme",c.theme);if(d=c.getParent?c.getParent():null)d=d.getChildren(),_.each(d,function(a){a.set("icon",a._oldIcon)});c.set("icon","fa fa-check")}if(-1!==b.indexOf("Editor/Settings")){var b=c.option,d=e.getOption(c.option),m=_.isBoolean(d);if("highlightActive"===b){e.setHighlightActiveLine(!e.getHighlightActiveLine());return}if(m)e.setOption(c.option,
!d);else{if("wordWrap"===b)return g=g.getUseWrapMode(),this.set("wordWrap",!g),!0;"off"===d||"on"===d?e.setOption(b,"off"===d?"on":"off"):e.setOption(c.option,!1)}return!0}return this.inherited(arguments)},getEditorActions:function(c){function a(a,c,d,e,g,k,l,m){g=g||{};c=c||"Editor/Settings/"+a||"Editor/Settings/"+a;g=g||{};a=h.createAction(q.mixin({label:a,command:c,icon:d||"fa-cogs",group:k||"Settings",mixin:q.mixin({addPermission:!0,option:e,actionType:l,owner:h},g)},m));b.push(a);return a}var b=
[],h=this,g=k.ACTION,l=k.ACTION_ICON;b.push(this.createAction({label:"Save",command:g.SAVE,icon:l.SAVE,keycombo:"ctrl s",group:"File"}));b.push(this.createAction({label:"Find",command:g.FIND,icon:l.SEARCH,keycombo:"ctrl f",group:"Search"}));b.push(this.createAction({label:"Fullscreen",command:g.FULLSCREEN,icon:l.MAXIMIZE,keycombo:"ctrl f11",group:"View"}));b.push(this.createAction({label:"Increase Fontsize",command:"View/Increase Font Size",icon:"fa-text-height",group:"View"}));b.push(this.createAction({label:"Decrease Fontsize",
command:"View/Decrease Font Size",icon:"fa-text-height",group:"View"}));d.hasAction(c,"View/Themes")&&(b.push(this.createAction({label:"Themes",command:"View/Themes",icon:"fa-paint-brush",group:"View",mixin:{closeOnClick:!1,value:this.defaultPrefenceTheme},onCreate:function(a){var b=h.getDefaultOptions();a.set("value",b.theme)}})),h._addThemes&&h._addThemes(b));b.push(this.createAction({label:"Help",command:"Help/Editor Shortcuts",icon:"fa-question",keycombo:"f1"}));b.push(this.createAction({label:"Settings",
command:"Editor/Settings",icon:"fa-cogs",group:"Settings"}));g={onCreate:function(a){var b=h.getOptionsMixed()[this.option];null!==b&&a.set("value",b)},onChange:function(a,b){this.value=b;h.runAction(this)}};a("Show Gutters",null,null,"showGutter",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Show Print Margin",null,null,"showPrintMargin",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Display Intend Guides",null,null,"displayIndentGuides",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Show Line Numbers",null,
null,"showLineNumbers",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Show Indivisibles",null,null,"showInvisibles",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Use Soft Tabs",null,null,"useSoftTabs",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Use Elastic Tab Stops",null,null,"useElasticTabstops",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Animated Scroll",null,null,"animatedScroll",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Word Wrap",null,null,"wordWrap",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);a("Highlight Active Line",
null,null,"highlightActive",null,null,k.ACTION_TYPE.MULTI_TOGGLE,g);d.hasAction(c,"View/Layout")&&(b.push(this.createAction({label:"Split",command:"View/Layout",icon:"fa-columns",group:"View"})),b.push(a("None","View/Layout/None","fa-columns",e.SOURCE,null,"View",k.ACTION_TYPE.SINGLE_TOGGLE)),b.push(a("Horizontal","View/Layout/Horizontal","layoutIcon-horizontalSplit",e.SPLIT_HORIZONTAL,null,"View",k.ACTION_TYPE.SINGLE_TOGGLE)),b.push(a("Vertical","View/Layout/Vertical","layoutIcon-layout293",e.SPLIT_VERTICAL,
null,"View",k.ACTION_TYPE.SINGLE_TOGGLE)));return b},_addThemes:function(c){for(var a=this.getThemeData(),b=this,d=function(a,c,d){return b.createAction({label:a,command:"View/Themes/"+a,group:"View",icon:c,mixin:{addPermission:!0,value:d,theme:d,closeOnClick:!1},onCreate:function(a){a._oldIcon=c;a.set("value",d);a.actionType=k.ACTION_TYPE.SINGLE_TOGGLE}})},e=0;e<a.length;e++){var g=a[e],l=g[1]||g[0].replace(/ /g,"_").toLowerCase(),g=d(g[0]," ",l);c.push(g)}},showHelp:function(c){c=c||this.getEditor();
ace.require("ace/config").loadModule("ace/ext/keybinding_menu",function(a){a.init(c);c.showKeyboardShortcuts()})},getThemeData:function(){return[["Chrome"],["Clouds"],["Crimson Editor"],["Dawn"],["Dreamweaver"],["Eclipse"],["GitHub"],["Solarized Light"],["TextMate"],["Tomorrow"],["XCode"],["Kuroir"],["KatzenMilch"],["Ambiance","ambiance","dark"],["Day","cloud9_day"],["Night","cloud9_night"],["Chaos","chaos","dark"],["Midnight","clouds_midnight","dark"],["Cobalt","cobalt","dark"],["idle Fingers","idle_fingers",
"dark"],["krTheme","kr_theme","dark"],["Merbivore","merbivore","dark"],["Merbivore-Soft","merbivore_soft","dark"],["Mono Industrial","mono_industrial","dark"],["Monokai","monokai","dark"],["Pastel on dark","pastel_on_dark","dark"],["Solarized Dark","solarized_dark","dark"],["Terminal","terminal","dark"],["Tomorrow-Night","tomorrow_night","dark"],["Tomorrow-Night-Blue","tomorrow_night_blue","dark"],["Tomorrow-Night-Bright","tomorrow_night_bright","dark"],["Tomorrow-Night-80s","tomorrow_night_eighties",
"dark"],["Twilight","twilight","dark"],["Vibrant Ink","vibrant_ink","dark"]]}});l.DEFAULT_PERMISSIONS=g;return l})}}});
//# sourceMappingURL=xace.js.map